<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>V2Ray | 1234567</title>
    <meta name="description" content="Blog">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.b48585ac.css" as="style"><link rel="preload" href="/assets/js/app.3915738f.js" as="script"><link rel="preload" href="/assets/js/5.40a6eba7.js" as="script"><link rel="preload" href="/assets/js/1.1da346cd.js" as="script"><link rel="preload" href="/assets/js/20.f9b914f4.js" as="script"><link rel="prefetch" href="/assets/js/10.e286079c.js"><link rel="prefetch" href="/assets/js/11.30af2f12.js"><link rel="prefetch" href="/assets/js/12.48d97710.js"><link rel="prefetch" href="/assets/js/13.4a7b6120.js"><link rel="prefetch" href="/assets/js/14.e64bec92.js"><link rel="prefetch" href="/assets/js/15.a4d00c95.js"><link rel="prefetch" href="/assets/js/16.2cc8fe18.js"><link rel="prefetch" href="/assets/js/17.eed2d844.js"><link rel="prefetch" href="/assets/js/18.cb135ba4.js"><link rel="prefetch" href="/assets/js/19.23bd9406.js"><link rel="prefetch" href="/assets/js/21.ae175dab.js"><link rel="prefetch" href="/assets/js/22.b50caa80.js"><link rel="prefetch" href="/assets/js/23.75471da3.js"><link rel="prefetch" href="/assets/js/24.41c5400d.js"><link rel="prefetch" href="/assets/js/25.25c9abe4.js"><link rel="prefetch" href="/assets/js/26.a989a703.js"><link rel="prefetch" href="/assets/js/3.dc5a5d96.js"><link rel="prefetch" href="/assets/js/4.803d5554.js"><link rel="prefetch" href="/assets/js/6.19e32962.js"><link rel="prefetch" href="/assets/js/7.ecd9138f.js"><link rel="prefetch" href="/assets/js/8.72d3fc16.js"><link rel="prefetch" href="/assets/js/9.bdc4e0f8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b48585ac.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="theme-container"><div><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">1234567</span></a> <div class="links"><div class="color-picker"><a href="#" class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><!----> <div class="dark-theme-options toggle-option"><label for="dark-theme-toggle">Enable Dark Theme?</label> <input id="dark-theme-toggle" type="checkbox" checked="checked"></div></div></div></div> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/category/前端.html" class="nav-link"><i class="iconfont undefined"></i>
  前端
</a></li><li class="dropdown-item"><!----> <a href="/category/Library.html" class="nav-link"><i class="iconfont undefined"></i>
  Library
</a></li><li class="dropdown-item"><!----> <a href="/category/Node.html" class="nav-link"><i class="iconfont undefined"></i>
  Node
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/about/" class="nav-link"><i class="iconfont reco-account"></i>
  About
</a></div><div class="nav-item"><a href="/timeLine/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><a href="https://github.com/flynull" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/category/前端.html" class="nav-link"><i class="iconfont undefined"></i>
  前端
</a></li><li class="dropdown-item"><!----> <a href="/category/Library.html" class="nav-link"><i class="iconfont undefined"></i>
  Library
</a></li><li class="dropdown-item"><!----> <a href="/category/Node.html" class="nav-link"><i class="iconfont undefined"></i>
  Node
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/about/" class="nav-link"><i class="iconfont reco-account"></i>
  About
</a></div><div class="nav-item"><a href="/timeLine/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><a href="https://github.com/flynull" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/interestingLibrary/v2ray.html" class="active sidebar-link">V2Ray</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interestingLibrary/v2ray.html#使用-v2ray-搭梯子" class="sidebar-link">使用 v2ray 搭梯子</a></li><li class="sidebar-sub-header"><a href="/interestingLibrary/v2ray.html#踩到的坑" class="sidebar-link">踩到的坑</a></li><li class="sidebar-sub-header"><a href="/interestingLibrary/v2ray.html#参考链接" class="sidebar-link">参考链接</a></li></ul></li><li><a href="/interestingLibrary/vuepress.html" class="sidebar-link">VuePress</a></li><li><a href="/interestingLibrary/webpack.html" class="sidebar-link">Webpack</a></li><li><a href="/interestingLibrary/lodash.html" class="sidebar-link">Lodash</a></li><li><a href="/interestingLibrary/git.html" class="sidebar-link">Git</a></li></ul> </aside> <main class="page reco-hide"> <div class="page-title"><h1>V2Ray</h1> <hr> <div data-v-42a3120b><i class="iconfont reco-account" data-v-42a3120b><span data-v-42a3120b>Ray</span></i> <i class="iconfont reco-date" data-v-42a3120b><span data-v-42a3120b>2018-12-18</span></i> <span id="/interestingLibrary/v2ray.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-78a96807 data-v-42a3120b><i class="iconfont reco-eye" style="margin-right: .5rem" data-v-78a96807></i> <a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;" data-v-78a96807></a></span> <i class="iconfont reco-tag tags" data-v-42a3120b><span class="tag-item" data-v-42a3120b>
      tool
    </span></i></div></div> <div class="content default"><blockquote><p>V2Ray 像是一个集成工具，它集合了多种多样的协议和功能，对个人用户而言像是一个工具箱，可以使用各种各样的工具组合。
对开发者而言像是一个脚手架，可以在此基础上开发扩充自己需要的功能而节省开发时间。</p></blockquote> <h2 id="使用-v2ray-搭梯子"><a href="#使用-v2ray-搭梯子" aria-hidden="true" class="header-anchor">#</a> 使用 v2ray 搭梯子</h2> <ol><li><p>准备材料： 一台可以访问国外网站的服务器，一台可以上网的电脑</p></li> <li><p>安装服务器上的v2ray(以Centos 7为例)</p> <p>最新版的v2ray安装可以说是相当傻瓜式了，执行几行命令就可以把v2ray安装好：</p> <ul><li><p>核对系统系统时间，要求服务器与客户端的时间误差不超过1分钟（注意：如果服务器是国外的，则要注意时区的问题）;</p></li> <li><p>运行下面的命令。
下载脚本:</p> <div class="language- extra-class"><pre class="language-text"><code>$ wget https://install.direct/go.sh
</code></pre></div><p>上面命令如果报 wget not found 的错误，则需要执行 wget 的安装命令：</p> <div class="language- extra-class"><pre class="language-text"><code>$ yum -y install wget
</code></pre></div><p>下载好脚本后，执行脚本安装 v2ray:</p> <div class="language- extra-class"><pre class="language-text"><code>$ sudo bash go.sh
</code></pre></div><p>接下来…… 没有了，可以启动了😁</p> <p>启动 v2ray的命令:</p> <div class="language- extra-class"><pre class="language-text"><code>$ sudo systemctl start v2ray
</code></pre></div><p>停止 v2ray的命令:</p> <div class="language- extra-class"><pre class="language-text"><code>$ sudo systemctl stop v2ray
</code></pre></div><p>重启 v2ray的命令:</p> <div class="language- extra-class"><pre class="language-text"><code>$ sudo systemctl restart v2ray
</code></pre></div></li></ul></li> <li><p>安装客户端上的v2ray(以Win10为例)</p> <ul><li><p>Win10上的安装更加简单，就是直接去官网下载个zip包解压就能用，只要运行解压文件里的 v2ray.exe</p></li> <li><p>另外有两种方式设置代理，一种是配置浏览的代理，另一种是使用工具配置系统代理</p> <p>以firefox 为例, 菜单 -&gt; 选项 -&gt; 网络设置:</p> <p><img src="/img/firefox_setting.png" alt="浏览器设置"></p></li> <li><p>ps：这里运行v2ray.exe 出现的是命令行，不是很友好。推荐去下载个v2rayN（可视化的工具）;</p></li></ul></li> <li><p>修改服务器上 v2ray的config.js
其实如果只是想要跑通，服务器的config.js可以不用改，
只要去查看这个文件，拿到 <code>inbound.port</code> 、<code>inbound.settings.clients.id</code>、<code>inbound.settings.clients.alterId</code> 后在客户端config.js中填入，具体看下一部分。
如果你有个性化的设置，记得在设置后，验证config.js 有效性再重启v2ray，命令如下：</p> <div class="language- extra-class"><pre class="language-text"><code>$ /usr/bin/v2ray/v2ray -test -config /etc/v2ray/config.json
</code></pre></div><p>查看服务器上v2ray的运行状态</p> <div class="language- extra-class"><pre class="language-text"><code>$  service v2ray status
</code></pre></div></li> <li><p>修改客户端上 v2ray的config.js</p> <p>以下是我客户端配置，大伙参考一下就好,主要就修改了四处地方：
<code>outbound.settings.vnext[0].address</code>、<code>outbound.settings.vnext[0].port</code>、<code>outbound.settings.vnext[0].users[0].id</code>、<code>outbound.settings.vnext[0].users[0].alterId</code></p> <div class="language- extra-class"><pre class="language-text"><code>{
  &quot;log&quot;: {
    &quot;access&quot;: &quot;&quot;,
    &quot;error&quot;: &quot;&quot;,
    &quot;loglevel&quot;: &quot;&quot;
  },
  &quot;inbound&quot;: {
    &quot;port&quot;: 1080,
    &quot;listen&quot;: &quot;0.0.0.0&quot;,
    &quot;protocol&quot;: &quot;socks&quot;,
    &quot;settings&quot;: {
      &quot;auth&quot;: &quot;noauth&quot;,
      &quot;udp&quot;: true,
      &quot;ip&quot;: &quot;127.0.0.1&quot;,
      &quot;clients&quot;: null
    },
    &quot;streamSettings&quot;: null
  },
  &quot;outbound&quot;: {
    &quot;tag&quot;: &quot;agentout&quot;,
    &quot;protocol&quot;: &quot;vmess&quot;,
    &quot;settings&quot;: {
      &quot;vnext&quot;: [
        {
          &quot;address&quot;: &quot;服务器ip&quot;,
          &quot;port&quot;: &quot;服务器上config.js中的port&quot;,
          &quot;users&quot;: [
            {
              &quot;id&quot;: &quot;服务器上config.js中的id&quot;,
              &quot;alterId&quot;: &quot;服务器上config.js中的alterId&quot;,
              &quot;security&quot;: &quot;aes-128-gcm&quot;
            }
          ]
        }
      ],
      &quot;servers&quot;: null
    },
    &quot;streamSettings&quot;: {
      &quot;network&quot;: &quot;tcp&quot;,
      &quot;security&quot;: &quot;&quot;,
      &quot;tcpSettings&quot;: null,
      &quot;kcpSettings&quot;: null,
      &quot;wsSettings&quot;: null
    },
    &quot;mux&quot;: {
      &quot;enabled&quot;: true
    }
  },
  &quot;inboundDetour&quot;: null,
  &quot;outboundDetour&quot;: [
    {
      &quot;protocol&quot;: &quot;freedom&quot;,
      &quot;settings&quot;: {
        &quot;response&quot;: null
      },
      &quot;tag&quot;: &quot;direct&quot;
    },
    {
      &quot;protocol&quot;: &quot;blackhole&quot;,
      &quot;settings&quot;: {
        &quot;response&quot;: {
          &quot;type&quot;: &quot;http&quot;
        }
      },
      &quot;tag&quot;: &quot;blockout&quot;
    }
  ],
  &quot;dns&quot;: {
    &quot;servers&quot;: [
      &quot;8.8.8.8&quot;,
      &quot;8.8.4.4&quot;,
      &quot;localhost&quot;
    ]
  },
  &quot;routing&quot;: {
    &quot;strategy&quot;: &quot;rules&quot;,
    &quot;settings&quot;: {
      &quot;domainStrategy&quot;: &quot;IPIfNonMatch&quot;,
      &quot;rules&quot;: [
        {
          &quot;type&quot;: &quot;field&quot;,
          &quot;port&quot;: null,
          &quot;outboundTag&quot;: &quot;direct&quot;,
          &quot;ip&quot;: [
            &quot;0.0.0.0/8&quot;,
            &quot;10.0.0.0/8&quot;,
            &quot;100.64.0.0/10&quot;,
            &quot;127.0.0.0/8&quot;,
            &quot;169.254.0.0/16&quot;,
            &quot;172.16.0.0/12&quot;,
            &quot;192.0.0.0/24&quot;,
            &quot;192.0.2.0/24&quot;,
            &quot;192.168.0.0/16&quot;,
            &quot;198.18.0.0/15&quot;,
            &quot;198.51.100.0/24&quot;,
            &quot;203.0.113.0/24&quot;,
            &quot;::1/128&quot;,
            &quot;fc00::/7&quot;,
            &quot;fe80::/10&quot;
          ],
          &quot;domain&quot;: null
        }
      ]
    }
  }
}
</code></pre></div></li> <li><p>启动客户试试看。更多配置可以参考 <a href="https://www.v2ray.com/chapter_02/" target="_blank" rel="noopener noreferrer">v2ray_配置文件<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ol> <h2 id="踩到的坑"><a href="#踩到的坑" aria-hidden="true" class="header-anchor">#</a> 踩到的坑</h2> <ol><li><p>其实按照教程一步步往下走并没有其他很大的坑，我配了三次才成功的原因是我理解错了‘时间校准’这一步骤。
因为v2ray的客户端和服务器端间验证是包括时间的验证的（要求客户端和服务器端时间误差在<code>一分钟</code>之内）。
结果我直接把服务器上的时间改成我电脑（也就是客户端）的时间，结果无论怎么检查都检查不出错在哪了。
后来重新查看文档，猛然想起我服务器是国外的，有时区的差别，于是将时间改了回去，这才解决问题。</p> <p>下面是查看系统(linux)时间和修改系统时间的命令：</p> <div class="language- extra-class"><pre class="language-text"><code>$ date -R
Sun, 22 Jan 2017 10:10:36 -0500
</code></pre></div><p>下面是修改系统时间的命令：</p> <div class="language- extra-class"><pre class="language-text"><code>$ sudo date --set=&quot;2017-01-22 16:16:23&quot;
Sun 22 Jan 16:16:23 GMT 2017
</code></pre></div></li></ol> <h2 id="参考链接"><a href="#参考链接" aria-hidden="true" class="header-anchor">#</a> 参考链接</h2> <p>以下地址有可能被墙 ，这就要各位看官自己想办法了😂</p> <ol><li><a href="https://www.v2ray.com/" target="_blank" rel="noopener noreferrer">官网地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://toutyrater.github.io/" target="_blank" rel="noopener noreferrer">V2Ray 配置指南<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://www.gonewto.com/?post/gweuy4" target="_blank" rel="noopener noreferrer">V2ray科学上网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://yuan.ga/v2ray-complete-tutorial/" target="_blank" rel="noopener noreferrer">V2Ray完全使用教程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ol></div> <!----> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">12 天前</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/interestingLibrary/vuepress.html">
          VuePress
        </a>
        →
      </span></p></div> </main> <div class="valine-wrapper" data-v-6835c30e><div id="valine" data-v-6835c30e></div></div> <div class="back-to-ceiling" style="right:1rem;bottom:3rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;background-color:rgba(231, 234, 241,.5);display:none;" data-v-d0bfeaa4 data-v-d0bfeaa4><i class="iconfont reco-up" data-v-d0bfeaa4></i></div></div></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.3915738f.js" defer></script><script src="/assets/js/5.40a6eba7.js" defer></script><script src="/assets/js/1.1da346cd.js" defer></script><script src="/assets/js/20.f9b914f4.js" defer></script>
  </body>
</html>
