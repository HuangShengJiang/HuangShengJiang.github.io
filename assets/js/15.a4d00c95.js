(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{261:function(t,a,n){"use strict";n.r(a);var s=n(2),e=Object(s.a)({},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"什么是javascript严格模式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#什么是javascript严格模式","aria-hidden":"true"}},[t._v("#")]),t._v(" 什么是JavaScript严格模式")]),t._v(" "),n("p",[t._v("通常我们的JavaScript代码都是在较宽松的条件下运行，也就是正常运行模式，\n而JavaScript 严格模式（strict mode）即在严格的条件下运行JavaScript代码。")]),t._v(" "),n("div",{staticClass:"tip custom-block"},[n("p",{staticClass:"custom-block-title"},[t._v("为什么要用严格模式")]),t._v(" "),n("ul",[n("li",[t._v("消除Javascript语法的一些不合理、不严谨之处，减少一些怪异行为;")]),t._v(" "),n("li",[t._v("消除代码运行的一些不安全之处，保证代码运行的安全；")]),t._v(" "),n("li",[t._v("提高编译器效率，增加运行速度；")]),t._v(" "),n("li",[t._v("为未来新版本的Javascript做好铺垫。")])])]),t._v(" "),n("h2",{attrs:{id:"如何使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#如何使用","aria-hidden":"true"}},[t._v("#")]),t._v(" 如何使用")]),t._v(" "),n("ol",[n("li",[n("p",[t._v('如果需要整个脚本都启用严格模式，在代码文件的第一行一字不漏的写下："use strict";')]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('    <script>\n　　　　"use strict";\n　　　　 var v = "Hi!  I\'m a strict mode script!";\n        ……\n    <\/script>\n')])])])]),t._v(" "),n("li",[n("p",[t._v('如果只需要部分脚本都启用严格模式，那么最好在函数的第一行写下："use strict";')]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[t._v("    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("strict")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 函数级别严格模式语法")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'use strict'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("nested")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"And so am I!"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hi!  I\'m a strict mode function!  "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("nested")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("notStrict")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"I\'m not strict."')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])]),t._v(" "),n("h2",{attrs:{id:"有哪些规则"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#有哪些规则","aria-hidden":"true"}},[t._v("#")]),t._v(" 有哪些规则")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("全局变量必须显式声明，平常我们定义一个变量可以不需要"),n("code",[t._v("var")]),t._v("声明，但在严格模式下，会报错。")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('"use strict";\n\na = 2;   //报错\n\nfor(i = 0; i < 2; i++) { // 报错，i未声明\n\n}\n')])])])]),t._v(" "),n("li",[n("p",[t._v("禁止使用"),n("code",[t._v("with")]),t._v("语句，主要是为了杜绝使用"),n("code",[t._v("with")]),t._v("语句可能导致数据泄露，详情移步"),n("a",{attrs:{href:"https://blog.csdn.net/zwkkkk1/article/details/79725934",target:"_blank",rel:"noopener noreferrer"}},[t._v("JavaScript中 with的用法"),n("OutboundLink")],1)]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('"use strict";\n\nvar obj = {\n    a: 1\n};\n\nwith (obj) {\n    a = 3;\n}  //报错\n')])])])]),t._v(" "),n("li",[n("p",[t._v("创建eval作用域")]),t._v(" "),n("p",[t._v("正常模式下，Javascript语言有两种变量作用域（scope）：全局作用域和函数作用域。严格模式创设了第三种作用域：eval作用域。\n正常模式下，eval语句的作用域，取决于它处于全局作用域，还是处于函数作用域。严格模式下，eval语句本身就是一个作用域，不再能够生成全局变量了，它所生成的变量只能用于eval内部。")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("\"use strict\";\n\nvar x = 5;\n\nconsole.log(eval('var x = 10;console.log(x)')); //10\n\nconsole.log(x);  //5\n")])])])]),t._v(" "),n("li",[n("p",[t._v("禁止使用"),n("code",[t._v("delete")]),t._v("语句,在严格模式下，禁止删除变量和对象的属性。（例外：configurable设置为true的对象属性，才能被删除。）")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("\"use strict\";\nvar b = 1;\n\n\ndelete b;  //报错：Uncaught SyntaxError: Delete of an unqualified identifier in strict mode.\n\nvar o = Object.create(null, {'x': {\n　　　　　　value: 1,\n　　　　　　configurable: false\n}});\n\ndelete o.x;   //报错:Uncaught TypeError: Cannot delete property 'x' of [object Object]\n\nvar a = {\n       n:1\n}\ndelete a.n;   //一般不会报错，因为对象的数据属性 configurable 默认为 true\n")])])])]),t._v(" "),n("li",[n("p",[t._v("对象不能有重名属性，实际测试（Chrome、Firefox和IE edge不会报错，IE11会报错）")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('"use strict";\nvar o = {\n    p:1,\n    p:2\n}\n  \nconsole.log(o.p);  //Chrome、Firefox和IE edge 结果都为 2，p属性被覆盖  \n//IE11则报错：Multiple definitions of a property not allowed in strict mode\n')])])])]),t._v(" "),n("li",[n("p",[t._v("函数不能有重名参数，实际测试（Chrome、Firefox、IE11、IE edge都会报错）")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('"use strict";\nfunction test(a,a,b){\n    console.log(a,a,b);\n}\n\ntest(1,2,3); //SyntaxError: duplicate formal argument a\n')])])])]),t._v(" "),n("li",[n("p",[t._v("禁止this关键字指向全局对象,要使用"),n("code",[t._v("this")]),t._v("必须给它赋值，"),n("code",[t._v("this")]),t._v("已不再默认指向全局对象，而是"),n("code",[t._v("undefined")]),t._v("。")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('"use strict";\nfunction f(){\n\n　　　　"use strict";\n\n　　　　this.a = 1;\n\n};\n\nf();// 报错，this未定义\n')])])])]),t._v(" "),n("li",[n("p",[t._v("禁止在函数内部遍历调用栈，即禁止使用caller。")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('"use strict";\nfunction f1(){\n\n    "use strict";\n    \n    f1.caller; // 报错\n    f1.arguments;// 报错\n}\nf1();\n')])])])]),t._v(" "),n("li",[n("p",[t._v("不允许对arguments赋值")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('"use strict";\n\narguments++; // 语法错误\n\nvar obj = { set p(arguments) { } }; // 语法错误\n\ntry { } catch (arguments) { } // 语法错误\n\nfunction arguments() { } // 语法错误\n\nvar f = new Function("arguments", "\'use strict\'; return 17;"); // 语法错误\n')])])])]),t._v(" "),n("li",[n("p",[t._v("arguments不再追踪参数的变化")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('　　function f(a) {\n\n　　　　a = 2;\n\n　　　　return [a, arguments[0]];\n\n　　}\n\n　　f(1); // 正常模式为[2,2]\n\n　　function f(a) {\n\n　　　　"use strict";\n\n　　　　a = 2;\n\n　　　　return [a, arguments[0]];\n\n　　}\n\n　　f(1); // 严格模式为[2,1]``\n')])])])]),t._v(" "),n("li",[n("p",[t._v("禁止使用arguments.callee")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v(' "use strict";\n \n　var f = function() { return arguments.callee; };\n \n　f(); // 报错   \n')])])])]),t._v(" "),n("li",[n("p",[t._v("禁止八进制表示法,正常模式下，整数的第一位如果是0，表示这是八进制数，比如0100等于十进制的64。")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('"use strict";\n\nvar n = 0100; // 语法错误\n')])])])]),t._v(" "),n("li",[n("p",[t._v("保留字\n为了向将来Javascript的新版本过渡，严格模式新增了一些保留字：implements, interface, let, package, private, protected, public, static, yield。")])]),t._v(" "),n("li",[n("p",[t._v("函数必须声明在顶层，不允许在非函数的代码块内声明函数")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('"use strict";\nif (true) {\n    function f() { } // 语法错误\n}\n\nfor (var i = 0; i < 5; i++) {\n    function f2() { } // 语法错误\n}         \n')])])])])]),t._v(" "),n("h2",{attrs:{id:"参考链接"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考链接","aria-hidden":"true"}},[t._v("#")]),t._v(" 参考链接")]),t._v(" "),n("p",[n("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2013/01/javascript_strict_mode.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Javascript 严格模式详解:阮一峰"),n("OutboundLink")],1)])])},[],!1,null,null,null);a.default=e.exports}}]);