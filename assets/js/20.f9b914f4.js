(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{267:function(t,n,e){"use strict";e.r(n);var a=e(2),s=Object(a.a)({},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("blockquote",[e("p",[t._v("V2Ray 像是一个集成工具，它集合了多种多样的协议和功能，对个人用户而言像是一个工具箱，可以使用各种各样的工具组合。\n对开发者而言像是一个脚手架，可以在此基础上开发扩充自己需要的功能而节省开发时间。")])]),t._v(" "),e("h2",{attrs:{id:"使用-v2ray-搭梯子"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用-v2ray-搭梯子","aria-hidden":"true"}},[t._v("#")]),t._v(" 使用 v2ray 搭梯子")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("准备材料： 一台可以访问国外网站的服务器，一台可以上网的电脑")])]),t._v(" "),e("li",[e("p",[t._v("安装服务器上的v2ray(以Centos 7为例)")]),t._v(" "),e("p",[t._v("最新版的v2ray安装可以说是相当傻瓜式了，执行几行命令就可以把v2ray安装好：")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("核对系统系统时间，要求服务器与客户端的时间误差不超过1分钟（注意：如果服务器是国外的，则要注意时区的问题）;")])]),t._v(" "),e("li",[e("p",[t._v("运行下面的命令。\n下载脚本:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ wget https://install.direct/go.sh\n")])])]),e("p",[t._v("上面命令如果报 wget not found 的错误，则需要执行 wget 的安装命令：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ yum -y install wget\n")])])]),e("p",[t._v("下载好脚本后，执行脚本安装 v2ray:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ sudo bash go.sh\n")])])]),e("p",[t._v("接下来…… 没有了，可以启动了😁")]),t._v(" "),e("p",[t._v("启动 v2ray的命令:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ sudo systemctl start v2ray\n")])])]),e("p",[t._v("停止 v2ray的命令:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ sudo systemctl stop v2ray\n")])])]),e("p",[t._v("重启 v2ray的命令:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ sudo systemctl restart v2ray\n")])])])])])]),t._v(" "),e("li",[e("p",[t._v("安装客户端上的v2ray(以Win10为例)")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("Win10上的安装更加简单，就是直接去官网下载个zip包解压就能用，只要运行解压文件里的 v2ray.exe")])]),t._v(" "),e("li",[e("p",[t._v("另外有两种方式设置代理，一种是配置浏览的代理，另一种是使用工具配置系统代理")]),t._v(" "),e("p",[t._v("以firefox 为例, 菜单 -> 选项 -> 网络设置:")]),t._v(" "),e("p",[e("img",{attrs:{src:"/img/firefox_setting.png",alt:"浏览器设置"}})])]),t._v(" "),e("li",[e("p",[t._v("ps：这里运行v2ray.exe 出现的是命令行，不是很友好。推荐去下载个v2rayN（可视化的工具）;")])])])]),t._v(" "),e("li",[e("p",[t._v("修改服务器上 v2ray的config.js\n其实如果只是想要跑通，服务器的config.js可以不用改，\n只要去查看这个文件，拿到 "),e("code",[t._v("inbound.port")]),t._v(" 、"),e("code",[t._v("inbound.settings.clients.id")]),t._v("、"),e("code",[t._v("inbound.settings.clients.alterId")]),t._v(" 后在客户端config.js中填入，具体看下一部分。\n如果你有个性化的设置，记得在设置后，验证config.js 有效性再重启v2ray，命令如下：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ /usr/bin/v2ray/v2ray -test -config /etc/v2ray/config.json\n")])])]),e("p",[t._v("查看服务器上v2ray的运行状态")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$  service v2ray status\n")])])])]),t._v(" "),e("li",[e("p",[t._v("修改客户端上 v2ray的config.js")]),t._v(" "),e("p",[t._v("以下是我客户端配置，大伙参考一下就好,主要就修改了四处地方：\n"),e("code",[t._v("outbound.settings.vnext[0].address")]),t._v("、"),e("code",[t._v("outbound.settings.vnext[0].port")]),t._v("、"),e("code",[t._v("outbound.settings.vnext[0].users[0].id")]),t._v("、"),e("code",[t._v("outbound.settings.vnext[0].users[0].alterId")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('{\n  "log": {\n    "access": "",\n    "error": "",\n    "loglevel": ""\n  },\n  "inbound": {\n    "port": 1080,\n    "listen": "0.0.0.0",\n    "protocol": "socks",\n    "settings": {\n      "auth": "noauth",\n      "udp": true,\n      "ip": "127.0.0.1",\n      "clients": null\n    },\n    "streamSettings": null\n  },\n  "outbound": {\n    "tag": "agentout",\n    "protocol": "vmess",\n    "settings": {\n      "vnext": [\n        {\n          "address": "服务器ip",\n          "port": "服务器上config.js中的port",\n          "users": [\n            {\n              "id": "服务器上config.js中的id",\n              "alterId": "服务器上config.js中的alterId",\n              "security": "aes-128-gcm"\n            }\n          ]\n        }\n      ],\n      "servers": null\n    },\n    "streamSettings": {\n      "network": "tcp",\n      "security": "",\n      "tcpSettings": null,\n      "kcpSettings": null,\n      "wsSettings": null\n    },\n    "mux": {\n      "enabled": true\n    }\n  },\n  "inboundDetour": null,\n  "outboundDetour": [\n    {\n      "protocol": "freedom",\n      "settings": {\n        "response": null\n      },\n      "tag": "direct"\n    },\n    {\n      "protocol": "blackhole",\n      "settings": {\n        "response": {\n          "type": "http"\n        }\n      },\n      "tag": "blockout"\n    }\n  ],\n  "dns": {\n    "servers": [\n      "8.8.8.8",\n      "8.8.4.4",\n      "localhost"\n    ]\n  },\n  "routing": {\n    "strategy": "rules",\n    "settings": {\n      "domainStrategy": "IPIfNonMatch",\n      "rules": [\n        {\n          "type": "field",\n          "port": null,\n          "outboundTag": "direct",\n          "ip": [\n            "0.0.0.0/8",\n            "10.0.0.0/8",\n            "100.64.0.0/10",\n            "127.0.0.0/8",\n            "169.254.0.0/16",\n            "172.16.0.0/12",\n            "192.0.0.0/24",\n            "192.0.2.0/24",\n            "192.168.0.0/16",\n            "198.18.0.0/15",\n            "198.51.100.0/24",\n            "203.0.113.0/24",\n            "::1/128",\n            "fc00::/7",\n            "fe80::/10"\n          ],\n          "domain": null\n        }\n      ]\n    }\n  }\n}\n')])])])]),t._v(" "),e("li",[e("p",[t._v("启动客户试试看。更多配置可以参考 "),e("a",{attrs:{href:"https://www.v2ray.com/chapter_02/",target:"_blank",rel:"noopener noreferrer"}},[t._v("v2ray_配置文件"),e("OutboundLink")],1)])])]),t._v(" "),e("h2",{attrs:{id:"踩到的坑"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#踩到的坑","aria-hidden":"true"}},[t._v("#")]),t._v(" 踩到的坑")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("其实按照教程一步步往下走并没有其他很大的坑，我配了三次才成功的原因是我理解错了‘时间校准’这一步骤。\n因为v2ray的客户端和服务器端间验证是包括时间的验证的（要求客户端和服务器端时间误差在"),e("code",[t._v("一分钟")]),t._v("之内）。\n结果我直接把服务器上的时间改成我电脑（也就是客户端）的时间，结果无论怎么检查都检查不出错在哪了。\n后来重新查看文档，猛然想起我服务器是国外的，有时区的差别，于是将时间改了回去，这才解决问题。")]),t._v(" "),e("p",[t._v("下面是查看系统(linux)时间和修改系统时间的命令：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ date -R\nSun, 22 Jan 2017 10:10:36 -0500\n")])])]),e("p",[t._v("下面是修改系统时间的命令：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('$ sudo date --set="2017-01-22 16:16:23"\nSun 22 Jan 16:16:23 GMT 2017\n')])])])])]),t._v(" "),e("h2",{attrs:{id:"参考链接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考链接","aria-hidden":"true"}},[t._v("#")]),t._v(" 参考链接")]),t._v(" "),e("p",[t._v("以下地址有可能被墙 ，这就要各位看官自己想办法了😂")]),t._v(" "),e("ol",[e("li",[e("a",{attrs:{href:"https://www.v2ray.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网地址"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://toutyrater.github.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("V2Ray 配置指南"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"http://www.gonewto.com/?post/gweuy4",target:"_blank",rel:"noopener noreferrer"}},[t._v("V2ray科学上网"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://yuan.ga/v2ray-complete-tutorial/",target:"_blank",rel:"noopener noreferrer"}},[t._v("V2Ray完全使用教程"),e("OutboundLink")],1)])])])},[],!1,null,null,null);n.default=s.exports}}]);